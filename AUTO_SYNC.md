# ๐ ะะฒัะพะผะฐัะธัะตัะบะฐั ัะธะฝััะพะฝะธะทะฐัะธั ะฑะพัะฐ ั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปัั

## ะะฑะทะพั ัะธััะตะผั

ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะพะน ัะธะฝััะพะฝะธะทะฐัะธะธ ะฟะพะทะฒะพะปัะตั ะธะทะผะตะฝััั ะบะพะฝัะธะณััะฐัะธั ััะตะฝะดะพะฒ ะธ ะฒะพะฟัะพัะพะฒ ัะตัะตะท ะฒะตะฑ-ะฐะดะผะธะฝ ะฟะฐะฝะตะปั **ะฑะตะท ะฟะตัะตะทะฐะฟััะบะฐ ะฑะพัะฐ**. ะัะต ะธะทะผะตะฝะตะฝะธั ะฟัะธะผะตะฝััััั ะผะณะฝะพะฒะตะฝะฝะพ!

## ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

### 1. ConfigManager (`config_manager.py`)
**ะะพัััะฐั ะฟะตัะตะทะฐะณััะทะบะฐ ะบะพะฝัะธะณััะฐัะธะธ**
- ะะพะฝะธัะพัะธะฝะณ ะธะทะผะตะฝะตะฝะธะน ะฒ `config.py`
- ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟะตัะตะทะฐะณััะทะบะฐ ะผะพะดัะปั
- Thread-safe ะดะพัััะฟ ะบ ะบะพะฝัะธะณััะฐัะธะธ
- Callbacks ะดะปั ัะฒะตะดะพะผะปะตะฝะธั ะพะฑ ะธะทะผะตะฝะตะฝะธัั

### 2. SyncServer (`sync_server.py`)
**HTTP ัะตัะฒะตั ะดะปั ัะธะฝััะพะฝะธะทะฐัะธะธ**
- ะะพัั: `8765` (ะฟะพ ัะผะพะปัะฐะฝะธั)
- API endpoints ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน
- ะะฑัะฐะฑะพัะบะฐ ะทะฐะฟัะพัะพะฒ ะพั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ

### 3. ะะฝัะตะณัะฐัะธั ะฒ ะฑะพัะต
**ะะฑะฝะพะฒะปะตะฝะฝัะต ะผะพะดัะปะธ:**
- `bot.py` - ะทะฐะฟััะบ sync ัะตัะฒะตัะฐ
- `handlers.py` - ะธัะฟะพะปัะทะพะฒะฐะฝะธะต config_manager
- `menu.py` - ะดะธะฝะฐะผะธัะตัะบะฐั ะทะฐะณััะทะบะฐ ััะตะฝะดะพะฒ

## API Endpoints

### GET /health
ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั ัะตัะฒะตัะฐ ัะธะฝััะพะฝะธะทะฐัะธะธ
```bash
curl http://localhost:8765/health
```

### POST /reload-config
ะัะธะฝัะดะธัะตะปัะฝะฐั ะฟะตัะตะทะฐะณััะทะบะฐ ะบะพะฝัะธะณััะฐัะธะธ
```bash
curl -X POST http://localhost:8765/reload-config
```

### POST /webhook
ะฃะฝะธะฒะตััะฐะปัะฝัะน webhook ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน
```bash
curl -X POST http://localhost:8765/webhook \
  -H "Content-Type: application/json" \
  -d '{"type": "config_changed"}'
```

## ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### 1. ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะฒ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ
1. ะะพะปัะทะพะฒะฐัะตะปั ะธะทะผะตะฝัะตั ััะตะฝะดั/ะฒะพะฟัะพัั ะฒ ะฒะตะฑ-ะธะฝัะตััะตะนัะต
2. ะะฐะถะธะผะฐะตั "ะกะพััะฐะฝะธัั ะธะทะผะตะฝะตะฝะธั"
3. ะะดะผะธะฝ-ะฟะฐะฝะตะปั ะพะฑะฝะพะฒะปัะตั `config.py`

### 2. ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฒะตะดะพะผะปะตะฝะธะต
1. ะะดะผะธะฝ-ะฟะฐะฝะตะปั ะพัะฟัะฐะฒะปัะตั HTTP ะทะฐะฟัะพั ะฑะพัั (`POST /reload-config`)
2. SyncServer ะฟะพะปััะฐะตั ัะฒะตะดะพะผะปะตะฝะธะต
3. ConfigManager ะฟะตัะตะทะฐะณััะถะฐะตั ะบะพะฝัะธะณััะฐัะธั

### 3. ะัะธะผะตะฝะตะฝะธะต ะธะทะผะตะฝะตะฝะธะน
1. ะัะต ะผะพะดัะปะธ ะฑะพัะฐ ะฟะพะปััะฐัั ะฝะพะฒัั ะบะพะฝัะธะณััะฐัะธั
2. ะะตะฝั ะธ ััะตะฝะดั ะพะฑะฝะพะฒะปััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ
3. ะะพะปัะทะพะฒะฐัะตะปะธ ะฒะธะดัั ะธะทะผะตะฝะตะฝะธั ะผะณะฝะพะฒะตะฝะฝะพ

## ะกัะตะผะฐ ัะฐะฑะพัั

```
โโโโโโโโโโโโโโโโโโโ    HTTP POST     โโโโโโโโโโโโโโโโโโโโ
โ  ะะดะผะธะฝ-ะฟะฐะฝะตะปั   โโโโโโโโโโโโโโโโโโโถโ   SyncServer     โ
โ  (port 5001)    โ  /reload-config  โ   (port 8765)    โ
โโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโ
         โ                                       โ
         โผ                                       โผ
โโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโ
โ   config.py     โโโโโโโโโโโโโโโโโโโโ ConfigManager    โ
โ   (ะธะทะผะตะฝะตะฝะธั)   โ   file monitor   โ (hot reload)     โ
โโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโโ
                                              โ
                                              โผ
                                   โโโโโโโโโโโโโโโโโโโโ
                                   โ  Bot Handlers    โ
                                   โ  (ะฝะพะฒัะต ััะตะฝะดั)  โ
                                   โโโโโโโโโโโโโโโโโโโโ
```

## ะะพะฝะธัะพัะธะฝะณ ัะธะฝััะพะฝะธะทะฐัะธะธ

### ะะพะณะธ ะฑะพัะฐ
```
[INFO] Configuration reloaded successfully
[INFO] Sync server started on localhost:8765
[INFO] Configuration reload triggered via API
```

### ะกัะฐััั ะฒ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ
- โ **ะะพั ัะฒะตะดะพะผะปะตะฝ** - ัะธะฝััะพะฝะธะทะฐัะธั ััะฟะตัะฝะฐ
- โ **ะะพั ะฝะต ะพัะฒะตัะฐะตั** - ััะตะฑัะตััั ัััะฝะพะน ะฟะตัะตะทะฐะฟััะบ

## ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะะพั ะฝะต ะฟะพะปััะฐะตั ัะฒะตะดะพะผะปะตะฝะธั
1. ะัะพะฒะตัััะต, ะทะฐะฟััะตะฝ ะปะธ ะฑะพั ั ะฝะพะฒัะผ ะบะพะดะพะผ
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฟะพัั 8765 ัะฒะพะฑะพะดะตะฝ
3. ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะพัะธะฑะบะธ

### ะะพะฝัะธะณััะฐัะธั ะฝะต ะพะฑะฝะพะฒะปัะตััั
1. ะัะพะฒะตัััะต ัะธะฝัะฐะบัะธั ะฒ `config.py`
2. ะฃะฑะตะดะธัะตัั ะฒ ะฟัะฐะฒะฐั ะฝะฐ ะทะฐะฟะธัั ัะฐะนะปะฐ
3. ะะตัะตะทะฐะฟัััะธัะต ะฑะพั ะฟัะธ ะบัะธัะธัะตัะบะธั ะพัะธะฑะบะฐั

### ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั
```bash
# ะัะพะฒะตัะบะฐ sync ัะตัะฒะตัะฐ
curl http://localhost:8765/health

# ะััะฝะฐั ะฟะตัะตะทะฐะณััะทะบะฐ
curl -X POST http://localhost:8765/reload-config

# ะัะพะฒะตัะบะฐ ะฟะพััะพะฒ
lsof -i :8765
lsof -i :5001
```

## ะะตะทะตัะฒะฝัะน ัะตะถะธะผ

ะัะปะธ ะฐะฒัะพัะธะฝััะพะฝะธะทะฐัะธั ะฝะต ัะฐะฑะพัะฐะตั:

1. **ะะทะผะตะฝะตะฝะธั ัะตัะตะท ัะฐะนะป**
   - ะััะตะดะฐะบัะธััะนัะต `config.py` ะฒัััะฝัั
   - ConfigManager ะพะฑะฝะฐััะถะธั ะธะทะผะตะฝะตะฝะธั ะฐะฒัะพะผะฐัะธัะตัะบะธ

2. **ะััะฝะพะน ะฟะตัะตะทะฐะฟััะบ**
   - ะััะฐะฝะพะฒะธัะต ะฑะพัะฐ (Ctrl+C)
   - ะะตัะตะทะฐะฟัััะธัะต: `python bot.py`

## ะัะตะธะผััะตััะฒะฐ ะฝะพะฒะพะน ัะธััะตะผั

โ **ะะตะท ะฟะตัะตะทะฐะฟััะบะพะฒ** - ะธะทะผะตะฝะตะฝะธั ะฟัะธะผะตะฝััััั ะผะณะฝะพะฒะตะฝะฝะพ
โ **ะฃะดะพะฑััะฒะพ** - ะฒัั ัะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั
โ **ะะตะทะพะฟะฐัะฝะพััั** - ะฒะฐะปะธะดะฐัะธั ะธ ะพัะบะฐั ะฟัะธ ะพัะธะฑะบะฐั
โ **ะะพะฝะธัะพัะธะฝะณ** - ััะฐััั ัะธะฝััะพะฝะธะทะฐัะธะธ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
โ **ะะฐะดะตะถะฝะพััั** - ัะตะทะตัะฒะฝัะต ะผะตัะฐะฝะธะทะผั ะฟัะธ ัะฑะพัั

## ะะฐะฟััะบ ั ะฐะฒัะพัะธะฝััะพะฝะธะทะฐัะธะตะน

```bash
# ะขะตัะผะธะฝะฐะป 1 - ะะพั ั hot reload
python bot.py

# ะขะตัะผะธะฝะฐะป 2 - ะะดะผะธะฝ-ะฟะฐะฝะตะปั
python admin_server.py

# ะะดะผะธะฝ-ะฟะฐะฝะตะปั: http://localhost:5001
# Sync API: http://localhost:8765
```

**ะกะธััะตะผะฐ ะณะพัะพะฒะฐ!** ะขะตะฟะตัั ะฒัะต ะธะทะผะตะฝะตะฝะธั ะฒ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ ะฟัะธะผะตะฝััััั ะบ ะฑะพัั ะฐะฒัะพะผะฐัะธัะตัะบะธ! ๐