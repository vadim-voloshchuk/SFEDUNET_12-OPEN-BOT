"""–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –∏ —Ç–µ–∫—Å—Ç–∞–º–∏ –±–æ—Ç–∞."""

import os
import re
from pathlib import Path
from typing import Any, Dict, List

# –ü—É—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DATA_PATH = Path(os.getenv('BOT_STATE_PATH', 'data/state.json'))
POLL_TIMEOUT = 30

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞
BOT_TOKEN = os.getenv('BOT_TOKEN', '')

# –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–æ—Å—Ç–æ—è–Ω–∏—è
STATE_FILE_PATH = 'data/state.json'

# –¢–µ–∫—Å—Ç—ã
SCHEDULE_TEXT = (
    'üìÖ *–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ñ–µ—Å—Ç–∏–≤–∞–ª—è Sfedunet 12*\n\n'
    'üåÖ *09:30* ‚Äì –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ—Ñ–µ ‚òï\n'
    'üéâ *10:00* ‚Äì –¶–µ—Ä–µ–º–æ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å —à–æ—É-–∫–µ–π—Å–æ–º –ø—Ä–æ–µ–∫—Ç–æ–≤ üöÄ\n'
    'üî¨ *11:00* ‚Äì –†–∞–±–æ—Ç–∞ —Å—Ç–µ–Ω–¥–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–æ–Ω üéØ\n'
    'üé§ *13:00* ‚Äì –ü–∏—Ç—á-—Å–µ—Å—Å–∏—è —Ñ–∏–Ω–∞–ª–∏—Å—Ç–æ–≤ üí°\n'
    'üë• *15:00* ‚Äì –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã –∏ –∫–æ–º—å—é–Ω–∏—Ç–∏ –º–∏—Ç–∞–ø—ã üõ†Ô∏è\n'
    'üèÜ *17:30* ‚Äì –ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –∏ –∞—Ñ—Ç–µ–ø–∞—Ç–∏ üéä\n\n'
    '‚ú® –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—Å–µ—Ç–∏—Ç—å –≤—Å–µ —Å—Ç–µ–Ω–¥—ã –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ!'
)

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–µ–Ω–¥–∞
STANDS = {
    "title": "üöÄ –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ç–µ–Ω–¥",
    "emoji": "üöÄ",
    "description": "–¢–µ—Å—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—á–µ—Ç—á–∏–∫–æ–≤",
    "color": "üü†",
    "questions": [
        {
            "question": "–¢–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å?",
            "answers": [
                "—Ç–µ—Å—Ç",
                "test"
            ],
            "hint": "–ü—Ä–æ—Å—Ç–æ–π –æ—Ç–≤–µ—Ç"
        }
    ]
},
                "hint": "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —á–∏—Å–ª–æ 12",
                "question": "üéØ –ö–∞–∫–æ–π –¥–∞—Ç–∞—Å–µ—Ç –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏–≥—Ä–æ–≤–æ–π –Ω–µ–π—Ä–æ—Å–µ—Ç–∏?"
            },
            {
                "answers": [
                    "3",
                    "—Ç—Ä–∏"
                ],
                "hint": "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: —ç—Ç–æ –Ω–µ–±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ",
                "question": "üé≤ –°–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏?"
            }
        ],
        "title": "üéÆ –°—Ç–µ–Ω–¥ –ù–µ–π—Ä–æ–ø–ª–µ–π"
    },
    {
        "color": "üü™",
        "description": "–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å",
        "emoji": "üåê",
        "id": "xr",
        "questions": [
            {
                "answers": [
                    "meta quest 3",
                    "quest 3"
                ],
                "hint": "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ–ø—É–ª—è—Ä–Ω–∞—è VR-–≥–∞—Ä–Ω–∏—Ç—É—Ä–∞ –æ—Ç Meta",
                "question": "üëì –ö–∞–∫–æ–π headset –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –∏–º–º–µ—Ä—Å–∏–≤–Ω–æ–≥–æ –æ–ø—ã—Ç–∞?"
            },
            {
                "answers": [
                    "sfedu xr lab",
                    "xr lab",
                    "sfedu xr",
                    "xr –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è"
                ],
                "hint": "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è —Å–≤—è–∑–∞–Ω–∞ —Å SFEDU",
                "question": "üèõÔ∏è –ù–∞–∑–æ–≤–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–π-–ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ —Å—Ç–µ–Ω–¥–∞."
            }
        ],
        "title": "ü•Ω –°—Ç–µ–Ω–¥ XR –õ–∞–±"
    },
    {
        "color": "üü©",
        "description": "–ë–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –º–µ–¥–∏—Ü–∏–Ω–∞",
        "emoji": "‚öïÔ∏è",
        "id": "biotech",
        "questions": [
            {
                "answers": [
                    "emg",
                    "—ç–º–≥",
                    "–º–µ–¥–∏–∞—Å–µ–Ω—Å–æ—Ä emg"
                ],
                "hint": "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –∏–∑ 3 –±—É–∫–≤",
                "question": "üìä –ö–∞–∫–æ–π —Å–µ–Ω—Å–æ—Ä —Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–∏–æ–º–µ—Ç—Ä–∏—é —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤?"
            },
            {
                "answers": [
                    "5",
                    "–ø—è—Ç—å"
                ],
                "hint": "üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –º–µ–Ω—å—à–µ 10 –º–∏–Ω—É—Ç",
                "question": "‚è±Ô∏è –°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –∑–∞–Ω–∏–º–∞–µ—Ç —ç–∫—Å–ø—Ä–µ—Å—Å-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞?"
            }
        ],
        "title": "üß¨ –°—Ç–µ–Ω–¥ –ë–∏–æ—Ç–µ—Ö"
    },
    {
        "id": "stand_1759241946540",
        "title": "üÜï –ù–æ–≤—ã–π —Å—Ç–µ–Ω–¥",
        "emoji": "üÜï",
        "description": "–ï–ë–ê–ë–ï–õ–¨–ù–´–ô –°–¢–ï–ù–î–ò–ö",
        "color": "üü¶",
        "questions": [
            {
                "question": "–ö–¢–û –¢–ê–ö–û–ô –î–ò–ú–ê",
                "answers": [
                    "–ü–ò–í–ê–û",
                    "–õ–£–õ",
                    "–ú–Ø–£"
                ],
                "hint": "–ù–ï –ë–£–î–ï–¢"
            }
        ]
    }
]

# –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
VK_LINK_PATTERN = re.compile(r'^(https?://)?(www\.)?vk\.com/([A-Za-z0-9_.]+)/?$')

# –°–æ–æ–±—â–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
ACHIEVEMENTS = {
    'first_stand': 'üéâ *–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!* –í—ã –ø—Ä–æ—à–ª–∏ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Å—Ç–µ–Ω–¥!',
    'half_complete': '‚ö° *–û—Ç–ª–∏—á–Ω–æ!* –í—ã –Ω–∞ –ø–æ–ª–ø—É—Ç–∏ –∫ –ø—Ä–∏–∑—É!',
    'all_complete': 'üèÜ *–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ!* –í—Å–µ —Å—Ç–µ–Ω–¥—ã –ø—Ä–æ–π–¥–µ–Ω—ã! –í—ã —É—á–∞—Å—Ç–≤—É–µ—Ç–µ –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ!',
    'registration_complete': '‚úÖ *–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!* –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ Sfedunet 12!'
}

# –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
PROGRESS_BARS = {
    0: '‚¨ú‚¨ú‚¨ú',
    1: 'üü¶‚¨ú‚¨ú',
    2: 'üü¶üü¶‚¨ú',
    3: 'üü¶üü¶üü¶'
}
